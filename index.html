<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + React + TS</title>
    <script>
      window.fetch = new Proxy(window.fetch, {
        apply: function (target, that, args) {
          // args holds argument of fetch function
          // Do whatever you want with fetch request
          let temp = target.apply(that, args);
          console.log('temp', temp)
          // temp.then((res) => {
          //     // After completion of request
          //     if (res.status === 401) {
          //         alert("Session expired, please reload the page!");
          //     }
          // });
          return temp;
        },
      });

      XMLHttpRequest = new Proxy(XMLHttpRequest, {
        construct: function (target, args) {
          const xhr = new target(...args);
          // Do whatever you want with XHR request
          console.log("xhr", xhr );
          xhr.onreadystatechange = function () {

          };
          return xhr;
        },
      });


    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
